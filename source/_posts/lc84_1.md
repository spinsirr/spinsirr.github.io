---
title: 84. Largest Rectangle in Histogram
date: 2023-12-21 20:35:58
tags: [leetcode, Array, Stack, Monotonic Stack]
---
[leetcode link](https://leetcode.com/problems/largest-rectangle-in-histogram/description/)

## Description

Given an array of integers heights representing the histogram's bar height where the width of each bar is 1, return the area of the largest rectangle in the histogram.

## Solution

This problem is similar to [42. Trapping Rain Water](https://leetcode.com/problems/trapping-rain-water/), but we are implementing a descending monotonic stack for the solution

### 1. define a stack

At first, We define a stack and initialize it by pushing the heights[0] into it.

```python
def largestRectangleArea(self, heights: List[int]) -> int:
    stack = [0]
```

### 2. traverse the heights

So, we need to traverse the heights array by index i and compare it to the top element of the stack (since we are pushing the index of elements into the stack, we actually comparing **height[i] and heights[stack[-1]]**). Because we have already pushed the index "0" into the stack, we can just start from "1"

```python
for i in range(1, n):
    #code
```

### 3. set rules for manipulating the stack

While comparing, there are three possibilities

```python
    heights[i] > heights[stack[-1]]
    heights[i] = heights[stack[-1]]
    heights[i] < heights[stack[-1]]

```

Since we are implementing a descending stack here. so when **heights[i] > heights[stack[-1]]**, we just push i into the stack. And when **heights[i] = heights[stack[-1]]** we need to pop the top element and 